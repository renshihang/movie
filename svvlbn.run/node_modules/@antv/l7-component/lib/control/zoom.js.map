{"version":3,"sources":["../../src/control/zoom.ts"],"names":["Zoom","cfg","disabled","zoomInButton","zoomOutButton","position","PositionType","TOPLEFT","zoomInText","zoomInTitle","zoomOutText","zoomOutTitle","zoomName","container","DOM","create","createButton","controlOption","zoomIn","zoomOut","mapsService","on","updateDisabled","off","getZoom","getMaxZoom","getMinZoom","html","tile","className","fn","link","innerHTML","href","addEventListener","removeClass","addClass","Control"],"mappings":"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","sourcesContent":["import { bindAll, DOM } from '@antv/l7-utils';\nimport Control, { IControlOption, PositionType } from './BaseControl';\nexport interface IZoomControlOption extends IControlOption {\n  zoomInText: string;\n  zoomInTitle: string;\n  zoomOutText: string;\n  zoomOutTitle: string;\n}\nexport default class Zoom extends Control {\n  private disabled: boolean;\n  private zoomInButton: HTMLElement;\n  private zoomOutButton: HTMLElement;\n\n  constructor(cfg?: Partial<IZoomControlOption>) {\n    super(cfg);\n    bindAll(['updateDisabled', 'zoomIn', 'zoomOut'], this);\n  }\n  public getDefault() {\n    return {\n      position: PositionType.TOPLEFT,\n      zoomInText: '+',\n      zoomInTitle: 'Zoom in',\n      zoomOutText: '&#x2212;',\n      zoomOutTitle: 'Zoom out',\n    };\n  }\n\n  public onAdd() {\n    const zoomName = 'l7-control-zoom';\n    const container = DOM.create('div', zoomName + ' l7-bar');\n\n    this.zoomInButton = this.createButton(\n      this.controlOption.zoomInText,\n      this.controlOption.zoomInTitle,\n      zoomName + '-in',\n      container,\n      this.zoomIn,\n    );\n    this.zoomOutButton = this.createButton(\n      this.controlOption.zoomOutText,\n      this.controlOption.zoomOutTitle,\n      zoomName + '-out',\n      container,\n      this.zoomOut,\n    );\n    this.mapsService.on('zoomend', this.updateDisabled);\n    this.mapsService.on('zoomchange', this.updateDisabled);\n    this.updateDisabled();\n    return container;\n  }\n\n  public onRemove() {\n    this.mapsService.off('zoomend', this.updateDisabled);\n    this.mapsService.off('zoomchange', this.updateDisabled);\n  }\n\n  public disable() {\n    this.disabled = true;\n    this.updateDisabled();\n    return this;\n  }\n\n  public enable() {\n    this.disabled = false;\n    this.updateDisabled();\n    return this;\n  }\n\n  private zoomIn() {\n    if (\n      !this.disabled &&\n      this.mapsService.getZoom() < this.mapsService.getMaxZoom()\n    ) {\n      this.mapsService.zoomIn();\n    }\n  }\n  private zoomOut() {\n    if (\n      !this.disabled &&\n      this.mapsService.getZoom() > this.mapsService.getMinZoom()\n    ) {\n      this.mapsService.zoomOut();\n    }\n  }\n  private createButton(\n    html: string,\n    tile: string,\n    className: string,\n    container: HTMLElement,\n    fn: (...arg: any[]) => any,\n  ) {\n    const link = DOM.create('a', className, container) as HTMLLinkElement;\n    link.innerHTML = html;\n    link.href = '#';\n    link.addEventListener('click', fn);\n    return link;\n  }\n  private updateDisabled() {\n    const mapsService = this.mapsService;\n    const className = 'l7-disabled';\n    DOM.removeClass(this.zoomInButton, className);\n    DOM.removeClass(this.zoomOutButton, className);\n    if (this.disabled || mapsService.getZoom() <= mapsService.getMinZoom()) {\n      DOM.addClass(this.zoomOutButton, className);\n    }\n    if (this.disabled || mapsService.getZoom() >= mapsService.getMaxZoom()) {\n      DOM.addClass(this.zoomInButton, className);\n    }\n  }\n}\n"],"file":"zoom.js"}