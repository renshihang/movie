{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\n\nvar _dec, _class;\n\nimport { injectable } from 'inversify';\nvar LayerModelPlugin = (_dec = injectable(), _dec(_class = function () {\n  function LayerModelPlugin() {\n    _classCallCheck(this, LayerModelPlugin);\n  }\n\n  _createClass(LayerModelPlugin, [{\n    key: \"apply\",\n    value: function apply(layer) {\n      layer.hooks.init.tap('LayerModelPlugin', function () {\n        layer.prepareBuildModel();\n        layer.buildModels();\n      });\n      layer.hooks.beforeRenderData.tap('DataSourcePlugin', function (flag) {\n        if (flag) {\n          layer.prepareBuildModel();\n          layer.buildModels();\n        }\n\n        return false;\n      });\n    }\n  }]);\n\n  return LayerModelPlugin;\n}()) || _class);\nexport { LayerModelPlugin as default };","map":{"version":3,"sources":["../../src/plugins/LayerModelPlugin.ts"],"names":["injectable","LayerModelPlugin","layer"],"mappings":";;;;;AACA,SAAA,UAAA,QAAA,WAAA;IAKqBC,gB,WADpBD,UAAU,E;;;;;;;0BAEIE,K,EAAe;AAC1BA,MAAAA,KAAK,CAALA,KAAAA,CAAAA,IAAAA,CAAAA,GAAAA,CAAAA,kBAAAA,EAAyC,YAAM;AAE7CA,QAAAA,KAAK,CAALA,iBAAAA;AAEAA,QAAAA,KAAK,CAALA,WAAAA;AAJFA,OAAAA;AAOAA,MAAAA,KAAK,CAALA,KAAAA,CAAAA,gBAAAA,CAAAA,GAAAA,CAAAA,kBAAAA,EAAqD,UAAA,IAAA,EAAU;AAE7D,YAAA,IAAA,EAAU;AACRA,UAAAA,KAAK,CAALA,iBAAAA;AAEAA,UAAAA,KAAK,CAALA,WAAAA;AACD;;AACD,eAAA,KAAA;AAPFA,OAAAA;AASD;;;;;SAlBkBD,gB","sourcesContent":["import { ILayer, ILayerPlugin, IMapService, TYPES } from '@antv/l7-core';\nimport { injectable } from 'inversify';\n/**\n * Layer Model 初始化，更新，销毁\n */\n@injectable()\nexport default class LayerModelPlugin implements ILayerPlugin {\n  public apply(layer: ILayer) {\n    layer.hooks.init.tap('LayerModelPlugin', () => {\n      // 更新Model 配置项\n      layer.prepareBuildModel();\n      // 初始化 Model\n      layer.buildModels();\n    });\n\n    layer.hooks.beforeRenderData.tap('DataSourcePlugin', (flag) => {\n      // 更新Model 配置项\n      if (flag) {\n        layer.prepareBuildModel();\n        // 初始化 Model\n        layer.buildModels();\n      }\n      return false;\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}