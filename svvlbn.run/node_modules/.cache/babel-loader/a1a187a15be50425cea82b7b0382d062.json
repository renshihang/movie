{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\n\nvar Clock = function () {\n  function Clock() {\n    var autoStart = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    _classCallCheck(this, Clock);\n\n    this.autoStart = void 0;\n    this.startTime = 0;\n    this.oldTime = 0;\n    this.running = false;\n    this.elapsedTime = 0;\n    this.autoStart = autoStart;\n  }\n\n  _createClass(Clock, [{\n    key: \"start\",\n    value: function start() {\n      this.startTime = (typeof performance === 'undefined' ? Date : performance).now();\n      this.oldTime = this.startTime;\n      this.elapsedTime = 0;\n      this.running = true;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.getElapsedTime();\n      this.running = false;\n      this.autoStart = false;\n    }\n  }, {\n    key: \"getElapsedTime\",\n    value: function getElapsedTime() {\n      this.getDelta();\n      return this.elapsedTime;\n    }\n  }, {\n    key: \"getDelta\",\n    value: function getDelta() {\n      var diff = 0;\n\n      if (this.autoStart && !this.running) {\n        this.start();\n        return 0;\n      }\n\n      if (this.running) {\n        var newTime = (typeof performance === 'undefined' ? Date : performance).now();\n        diff = (newTime - this.oldTime) / 1000;\n        this.oldTime = newTime;\n        this.elapsedTime += diff;\n      }\n\n      return diff;\n    }\n  }]);\n\n  return Clock;\n}();\n\nexport { Clock as default };","map":{"version":3,"sources":["../../src/utils/clock.ts"],"names":["Clock","autoStart","startTime","oldTime","running","elapsedTime","diff","newTime"],"mappings":";;;IACqBA,K;AAMnB,WAAA,KAAA,GAA8B;AAAA,QAAlBC,SAAkB,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAN,IAAM;;AAAA,IAAA,eAAA,CAAA,IAAA,EAAA,KAAA,CAAA;;AAAA,SALtBA,SAKsB,GAAA,KAAA,CAAA;AAAA,SAJtBC,SAIsB,GAJF,CAIE;AAAA,SAHtBC,OAGsB,GAHJ,CAGI;AAAA,SAFtBC,OAEsB,GAFH,KAEG;AAAA,SADtBC,WACsB,GADA,CACA;AAC5B,SAAA,SAAA,GAAA,SAAA;AACD;;;;4BACc;AACb,WAAA,SAAA,GAAiB,CAAC,OAAA,WAAA,KAAA,WAAA,GAAA,IAAA,GAAD,WAAA,EAAjB,GAAiB,EAAjB;AAKA,WAAA,OAAA,GAAe,KAAf,SAAA;AACA,WAAA,WAAA,GAAA,CAAA;AACA,WAAA,OAAA,GAAA,IAAA;AACD;;;2BACa;AACZ,WAAA,cAAA;AACA,WAAA,OAAA,GAAA,KAAA;AACA,WAAA,SAAA,GAAA,KAAA;AACD;;;qCAEuB;AACtB,WAAA,QAAA;AACA,aAAO,KAAP,WAAA;AACD;;;+BACiB;AAChB,UAAIC,IAAI,GAAR,CAAA;;AAEA,UAAI,KAAA,SAAA,IAAkB,CAAC,KAAvB,OAAA,EAAqC;AACnC,aAAA,KAAA;AACA,eAAA,CAAA;AACD;;AAED,UAAI,KAAJ,OAAA,EAAkB;AAChB,YAAMC,OAAO,GAAG,CAAC,OAAA,WAAA,KAAA,WAAA,GAAA,IAAA,GAAD,WAAA,EAAhB,GAAgB,EAAhB;AAIAD,QAAAA,IAAI,GAAG,CAACC,OAAO,GAAG,KAAX,OAAA,IAAPD,IAAAA;AACA,aAAA,OAAA,GAAA,OAAA;AACA,aAAA,WAAA,IAAA,IAAA;AACD;;AACD,aAAA,IAAA;AACD;;;;;;SA/CkBN,K","sourcesContent":["// https://github.com/mrdoob/three.js/blob/master/src/core/Clock.js\nexport default class Clock {\n  private autoStart: boolean;\n  private startTime: number = 0;\n  private oldTime: number = 0;\n  private running: boolean = false;\n  private elapsedTime: number = 0;\n  constructor(autoStart = true) {\n    this.autoStart = autoStart;\n  }\n  public start() {\n    this.startTime = (typeof performance === 'undefined'\n      ? Date\n      : performance\n    ).now();\n\n    this.oldTime = this.startTime;\n    this.elapsedTime = 0;\n    this.running = true;\n  }\n  public stop() {\n    this.getElapsedTime();\n    this.running = false;\n    this.autoStart = false;\n  }\n\n  public getElapsedTime() {\n    this.getDelta();\n    return this.elapsedTime;\n  }\n  public getDelta() {\n    let diff = 0;\n\n    if (this.autoStart && !this.running) {\n      this.start();\n      return 0;\n    }\n\n    if (this.running) {\n      const newTime = (typeof performance === 'undefined'\n        ? Date\n        : performance\n      ).now();\n      diff = (newTime - this.oldTime) / 1000;\n      this.oldTime = newTime;\n      this.elapsedTime += diff;\n    }\n    return diff;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}