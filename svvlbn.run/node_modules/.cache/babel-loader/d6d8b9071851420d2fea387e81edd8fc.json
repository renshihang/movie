{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (jsonSchemas) {\n  (0, _assert2.default)((0, _lodash6.default)(jsonSchemas) && jsonSchemas.length >= 1, 'Must merge at least 1 JSON schema.');\n  return _lodash2.default.apply(undefined, [{}].concat(_toConsumableArray(jsonSchemas), [function (mergedValue, newValue, key) {\n    if ((0, _lodash4.default)(mergedValue)) {\n      return;\n    }\n\n    if (key === 'required') {\n      return (0, _lodash8.default)(mergedValue.concat(newValue));\n    }\n\n    if ((0, _lodash10.default)(mergedValue)) {\n      if (!(0, _lodash10.default)(newValue)) {\n        throw new Error('Failed to merge schemas because \"' + key + '\" has different values.');\n      }\n\n      return;\n    }\n\n    _assert2.default.deepEqual(mergedValue, newValue, 'Failed to merge schemas because \"' + key + '\" has different values: ' + JSON.stringify(mergedValue) + ' and ' + JSON.stringify(newValue) + '.');\n  }]));\n};\n\nvar _assert = require('assert');\n\nvar _assert2 = _interopRequireDefault(_assert);\n\nvar _lodash = require('lodash.mergewith');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _lodash3 = require('lodash.isnil');\n\nvar _lodash4 = _interopRequireDefault(_lodash3);\n\nvar _lodash5 = require('lodash.isarray');\n\nvar _lodash6 = _interopRequireDefault(_lodash5);\n\nvar _lodash7 = require('lodash.uniq');\n\nvar _lodash8 = _interopRequireDefault(_lodash7);\n\nvar _lodash9 = require('lodash.isplainobject');\n\nvar _lodash10 = _interopRequireDefault(_lodash9);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/renshihang/Desktop/svvlbn.run/node_modules/merge-json-schemas/index.js"],"names":["Object","defineProperty","exports","value","default","jsonSchemas","_assert2","_lodash6","length","_lodash2","apply","undefined","concat","_toConsumableArray","mergedValue","newValue","key","_lodash4","_lodash8","_lodash10","Error","deepEqual","JSON","stringify","_assert","require","_interopRequireDefault","_lodash","_lodash3","_lodash5","_lodash7","_lodash9","obj","__esModule","arr","Array","isArray","i","arr2","from","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (jsonSchemas) {\n  (0, _assert2.default)((0, _lodash6.default)(jsonSchemas) && jsonSchemas.length >= 1, 'Must merge at least 1 JSON schema.');\n  return _lodash2.default.apply(undefined, [{}].concat(_toConsumableArray(jsonSchemas), [function (mergedValue, newValue, key) {\n    if ((0, _lodash4.default)(mergedValue)) {\n      return;\n    }\n    if (key === 'required') {\n      return (0, _lodash8.default)(mergedValue.concat(newValue));\n    }\n    if ((0, _lodash10.default)(mergedValue)) {\n      if (!(0, _lodash10.default)(newValue)) {\n        throw new Error('Failed to merge schemas because \"' + key + '\" has different values.');\n      }\n      return;\n    }\n    _assert2.default.deepEqual(mergedValue, newValue, 'Failed to merge schemas because \"' + key + '\" has different values: ' + JSON.stringify(mergedValue) + ' and ' + JSON.stringify(newValue) + '.');\n  }]));\n};\n\nvar _assert = require('assert');\n\nvar _assert2 = _interopRequireDefault(_assert);\n\nvar _lodash = require('lodash.mergewith');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _lodash3 = require('lodash.isnil');\n\nvar _lodash4 = _interopRequireDefault(_lodash3);\n\nvar _lodash5 = require('lodash.isarray');\n\nvar _lodash6 = _interopRequireDefault(_lodash5);\n\nvar _lodash7 = require('lodash.uniq');\n\nvar _lodash8 = _interopRequireDefault(_lodash7);\n\nvar _lodash9 = require('lodash.isplainobject');\n\nvar _lodash10 = _interopRequireDefault(_lodash9);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}